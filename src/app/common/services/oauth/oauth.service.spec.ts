import {TestBed} from '@angular/core/testing';
import {Store} from '@ngrx/store';
import {of} from 'rxjs';
import {OauthService} from './oauth.service';
import {OauthState} from './store/oauth.state';
import {OauthStore} from './store/oauth.store';
import {OauthResponse} from './model/oauth-response.model';
import {Principal} from '../../models/user.model';
import {OauthLoginRequest} from './store/oauth.actions';


// tslint:disable:max-line-length
const oauthResponse: OauthResponse = {
    'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJmdW5jdGlvbnMiOlsiNDI5NCIsIjE2MDc2IiwiNDE3NCIsIjQyOTYiLCIxNjA3NCIsIjM4ODAiLCI0Mjk4IiwiMjc5MiIsIjMwODgiLCIxNjA3MyIsIjE2MDcyIiwiMTYxOTEiLCIyNTQ4IiwiMTU3OSIsIjE2OTgiLCIxNTc0IiwiMTU3MyIsIjM4NzMiLCIzODc0IiwiMzc1NCIsIjQ3MjUiLCIzNzcxIiwiMzc3MiIsIjE1OTIiLCIyNTYwIiwiMTU4OCIsIjE1ODQiLCIzNjQxIiwiMTU1NTUiLCI0NzMzIiwiNDczNSIsIjQ2MTYiLCIxNjI5NyIsIjE1MDg2IiwiMTYyOTYiLCIxNTY0MSIsIjQxOTkiLCIxNTY0MCIsIjE2Mjk5IiwiMTYyOTgiLCIxMDAwIiwiMjMzMSIsIjE1MDgzIiwiMTYyOTMiLCIxNTA4MiIsIjE2MDUwIiwiMTYyOTIiLCIyNDQ5IiwiMjQ0OCIsIjI2ODgiLCIxNTUyOSIsIjE1OTciLCIzNzczIiwiMTU0MDMiLCIxNTY0NSIsIjM3NzQiLCIxNTc2NSIsIjM3NzUiLCIxNTY0MyIsIjM3NzYiLCIzODk3IiwiMTU1MjgiLCIxNTQwNiIsIjE1NTI3IiwiMzc3OSIsIjE1NTI1IiwiMTU2NDYiLCIxNTUzMSIsIjE1NTMwIiwiMzc5MyIsIjE2MDY4IiwiMTYxODkiLCIzNzk0IiwiMTYwNjIiLCIxNjA2MSIsIjI1NzkiLCIyNTc2IiwiNDc1MiIsIjE1NDE0IiwiMTU0MTMiLCIzNzg3IiwiMzY2OSIsIjM2ODAiLCIxNTA2OSIsIjE1MTg5IiwiNDc3MyIsIjI0NzMiLCIyNDY4IiwiNDc2MyIsIjE1ODYzIiwiMTYwMzkiLCIzNzk4IiwiMTYxNTkiLCIzNjc4IiwiMTU2MjciLCI0NTI2IiwiMTU2MjYiLCIyOTAyIiwiMTUwNzMiLCIxNTE5OSIsIjE1MDcwIiwiMzMyNyIsIjI0NzkiLCIyNDc4IiwiMjQ3NyIsIjI0NzYiLCIxNzA5IiwiMjkxOSIsIjQ1MzMiLCIyOTE2IiwiMTU2MzEiLCIxNTA0MyIsIjE1MDQyIiwiMTUyODQiLCIxNTE2NyIsIjE1Mjg3IiwiNDQzMiIsIjE1Mjg2IiwiMzM0MyIsIjMzNDIiLCIxNTE2MCIsIjE3MTIiLCIyOTIyIiwiMTcxMSIsIjI5MjEiLCIxNzEwIiwiMjkyMCIsIjIyNDgiLCIxNjAxOCIsIjQ0MjQiLCIxNzE2IiwiMTcxNSIsIjE1NjA0IiwiMTcxMyIsIjI5MjMiLCIxNjAyMCIsIjE2Mzg2IiwiMTYwMCIsIjMxMDciLCIxNTczMyIsIjE2MDkiLCIxNjA4IiwiNDMxNCIsIjE1ODUyIiwiMTU3MzAiLCIxNTYxNiIsIjYwMDYzIiwiMTcyNiIsIjQ1NzIiLCI0NTczIiwiMTYxMTMiLCIxNjM1NSIsIjQ1NzQiLCI0NTc1IiwiMzM2NSIsIjE2MTMiLCIxNTgyOSIsIjE2MTIiLCIyOTQzIiwiMTU3MDciLCIxNTgyOCIsIjE2MTEiLCIxNTgyNyIsIjE2MTAiLCIyMjY5IiwiMjk0MCIsIjMzNTYiLCI5MyIsIjE2MTkiLCIxNTk0MCIsIjE2MTgiLCIxNTM4OSIsIjE2MTciLCIxNjE2IiwiMTYxNSIsIjI3MDQiLCIxNjE0IiwiMTU4MjIiLCIxNTI3NyIsIjE2MjQzIiwiMTA3MiIsIjEwNzEiLCIxMDcwIiwiMTYyMyIsIjI3MTIiLCIzMDA5IiwiMTYyMSIsIjE2MjAiLCIxMDY4IiwiMzgwOSIsIjMxMjQiLCIxNTk1MyIsIjE2MjkiLCIxNjI4IiwiMTU3MTUiLCIxODY5IiwiMTg2OCIsIjE1OTU1IiwiMTYyNSIsIjE1MzYyIiwiNDU5MSIsIjE1MzYwIiwiMTU0ODAiLCIxNjMzNCIsIjE1MzY1IiwiMTYzMzMiLCIxNTM2NCIsIjE1MzYzIiwiMzAyMCIsIjE3NTUiLCIxNjMzIiwiMTc1NCIsIjI3MjEiLCIyNzIwIiwiMzEzNyIsIjIxNjgiLCIxNTM2OSIsIjQzNDciLCIxNTM2OCIsIjQxMDYiLCIxNTM2NyIsIjE2MzM1IiwiMjg0OSIsIjE2MzgiLCIxNzU5IiwiMjg0OCIsIjM4MTEiLCIxNjM3IiwiMjYwNSIsIjE2MzYiLCIxNTQ5MyIsIjE1MzcwIiwiNDQ4NiIsIjE1MTMzIiwiMzAzNSIsIjMxNTYiLCIzMjcxIiwiMTc2NSIsIjI3MzMiLCIzODI3IiwiMTc2NCIsIjMwMjciLCIxNjQwIiwiMTc2MSIsIjQzNTYiLCIxNjIyOCIsIjE1Mzc5IiwiMzgyMCIsIjEwMDAxIiwiMTU4MTIiLCIxNjIyOSIsIjE1MzQ0IiwiMTUzNDMiLCIxNTM0MSIsIjE2NjAiLCIyOTkxIiwiMzA0NiIsIjMwNDUiLCIzMDQ0IiwiMzA0MiIsIjMwNDEiLCIzMjgzIiwiMzA0MCIsIjE1MzYiLCIxNTM1IiwiMTUzNCIsIjI1MDIiLCIzODM4IiwiMTUzMyIsIjE1MzIiLCIzMDM5IiwiMzcxOSIsIjMwMzgiLCIxNjUxIiwiMzAzNyIsIjMwMzYiLCIxNTM0NyIsIjE1MzQ2IiwiMTUzNDUiLCIxNTM5IiwiMTYzMTkiLCIxNjU5IiwiMjc0OCIsIjE2MzE4IiwiMTUzNyIsIjE2MzE3IiwiNDM4NSIsIjE1NDc2IiwiMTYzMjMiLCIxNjMyMiIsIjE2MzIxIiwiMTYzMjAiLCIxNTUwIiwiMzA1NyIsIjI4ODAiLCIzMDU2IiwiMzA1NSIsIjMwNTQiLCIzMDUzIiwiMzA1MiIsIjMwNTEiLCIzMDUwIiwiMzE3MSIsIjM3MjgiLCIxNTQzIiwiMTU0MiIsIjMwNDkiLCIzMDQ4IiwiMzA0NyIsIjE1MzU5IiwiNDI1OCIsIjE1MzU4IiwiMTYzMjYiLCIxNjMyNSIsIjM4NDIiLCI0MTM5IiwiMTUzNTYiLCIxNjMyNCIsIjI2MzkiLCIxNjIwNyIsIjMwNjAiLCI0Mzk2IiwiMTUyMDEiLCIxNTIwMCIsIjM5ODAiLCIxNTYxIiwiMzE4OSIsIjMwNjEiLCIxNTU4IiwiMTU1NyIsIjE1NTYiLCIxNDMyIiwiMjUyMSIsIjE1NTIiLCIzMDU5IiwiMzA1OCIsIjM4NTIiLCIxNTIwMyIsIjM4NTMiLCIxNTIwMiIsIjE1MzIzIiwiMzYxOSIsIjI0MDgiLCIyNTI4IiwiMTU1OSIsIjQ3MDQiLCIxNTU2OSIsIjE1NTcwIiwiMTYzMDEiLCIxNTU3MyIsIjM4NzEiLCIxNjkzIiwiMTY5MSIsIjMxOTYiLCIyNzc5IiwiMzg2OSIsIjI3NzgiLCIyNzc3IiwiMjg5OCIsIjI4OTciLCI0NzE5IiwiMjc3NSIsIjM2MjIiLCIxNTYzIiwiMTYzMDQiLCIxNjMwMyIsIjE2MzAyIiwiMzk4NiJdLCJ1c2VyX25hbWUiOiJnYXJldGg1MyIsImRpc3BsYXlOYW1lIjoiR2FyZXRoIEtpbmciLCJpbml0aWFscyI6IkdBIiwiZW50aXR5TnVtYmVyIjoxMDAyNTg4MzgwLCJpcCI6IjEwLjEuMzYuMTQ1IiwidXNlck5hbWUiOiJnYXJldGg1MyIsImF1dGhvcml0aWVzIjpbIlJPTEVfU1lTVEVNU19NQUlOVEVOQU5DRV9DT01NVU5JQ0FUSU9OIiwiMTYwNzYiLCIxNjA3NCIsIjM4ODAiLCIyNzkyIiwiMTYwNzMiLCIxNjA3MiIsIjE2MTkxIiwiMjU0OCIsIjE1NzkiLCIxNjk4IiwiMTU3NCIsIjE1NzMiLCIzODczIiwiMzg3NCIsIjM3NTQiLCI0NzI1IiwiUk9MRV9IRUFMVEhfQ09NUExJQU5DRV9DQU1QQUlHTiIsIjM3NzEiLCIzNzcyIiwiMTU5MiIsIjI1NjAiLCIxNTg4IiwiMTU4NCIsIjM2NDEiLCI0NzMzIiwiNDczNSIsIjQ2MTYiLCIxNjI5NyIsIjE1MDg2IiwiMTYyOTYiLCIxNjI5OSIsIjE2Mjk4IiwiMTAwMCIsIjIzMzEiLCJST0xFX0RIU19TT0ZUV0FSRV9SRUxFQVNFIiwiMTUwODMiLCIxNjI5MyIsIjE1MDgyIiwiMTYwNTAiLCIxNjI5MiIsIlJPTEVfREhTX0FQU0JBTktNRURfTk9USUZJQ0FUSU9OUyIsIjI0NDkiLCIyNDQ4IiwiMjY4OCIsIjE1OTciLCIzNzczIiwiMzc3NCIsIjM3NzUiLCIzNzc2IiwiMzg5NyIsIjM3NzkiLCIzNzkzIiwiMTYwNjgiLCIxNjE4OSIsIlJPTEVfREVfSURFTlRJRklFRF9ERVZfREFTIiwiMzc5NCIsIjE2MDYyIiwiMTYwNjEiLCJST0xFX0RDUFVTRVJEQVRBMDEiLCIyNTc5IiwiMjU3NiIsIjQ3NTIiLCIzNzg3IiwiMzY2OSIsIjM2ODAiLCIxNTA2OSIsIjE1MTg5IiwiNDc3MyIsIjI0NzMiLCIyNDY4IiwiUk9MRV9SRUxFQVNFX05PVElGSUNBVElPTlMiLCI0NzYzIiwiMTYwMzkiLCIzNzk4IiwiMTYxNTkiLCIzNjc4IiwiNDUyNiIsIjE1MDczIiwiMTUxOTkiLCJST0xFX0RFX0lERU5USUZJRURfVEVTVF9EQVMiLCJST0xFX0RIU19XRUVLTFlfUkVMRUFTRSIsIjE1MDcwIiwiMzMyNyIsIjI0NzkiLCIyNDc4IiwiMjQ3NyIsIjI0NzYiLCI0NTMzIiwiUk9MRV9ESFNfVVdfRENOX1NSVl9CTV9OT1RJRklDQVRJT05TIiwiMTUwNDMiLCIxNTA0MiIsIjE1Mjg0IiwiMTUxNjciLCIxNTI4NyIsIjQ0MzIiLCIxNTI4NiIsIjMzNDMiLCIzMzQyIiwiMTUxNjAiLCIyMjQ4IiwiUk9MRV9JTlRFUk5FVF9ESFMiLCIxNjAxOCIsIjQ0MjQiLCJST0xFX1NDUklQVExPR0lDX1NUQU5EQVJEIiwiMTYwMjAiLCIxNjM4NiIsIlJPTEVfUEhJX1RFU1RfUEFDRSIsIjMxMDciLCI0MzE0IiwiNDU3MiIsIjQ1NzMiLCI0NTc0IiwiNDU3NSIsIjMzNjUiLCIxNTgyOSIsIjE1NzA3IiwiMTU4MjgiLCIxNTgyNyIsIjIyNjkiLCIzMzU2IiwiMTU5NDAiLCIxNTgyMiIsIlJPTEVfV0lGSV9BQ0NFU1NfVVNFUlMiLCIxMDcyIiwiMTA3MSIsIjEwNzAiLCIzMDA5IiwiMTA2OCIsIjMxMjQiLCIxNTk1MyIsIjE1NzE1IiwiMTU5NTUiLCI0NTkxIiwiUk9MRV9XRUJTRU5TRSIsIjMwMjAiLCIzMTM3IiwiMjE2OCIsIjQzNDciLCI0MTA2IiwiUk9MRV9LSUJBTkFfVVNFUlNfREVWIiwiUk9MRV9CQU1CT09fVVNFUl9DT01NVU5JVFkiLCJST0xFX0RIU19OQl9TRVJWSUNFX0JNX05PVElGSUNBVElPTlMiLCJST0xFX0RIU19TVEFSVEVBTV9VU0VSUyIsIjQ0ODYiLCIzMDM1IiwiMzE1NiIsIjMyNzEiLCIzMDI3IiwiNDM1NiIsIjEwMDAxIiwiUk9MRV9FUVVJVFJBQ1BSSU5URVJTIiwiMTU4MTIiLCJST0xFX0hBX0ZBU1RfU1RBUlRVUF9ESFRFU1RfREIiLCIzMDQ2IiwiMzA0NSIsIjMwNDQiLCIzMDQyIiwiMzA0MSIsIjMyODMiLCIzMDQwIiwiUk9MRV9ESVNDT1ZFUllfSEVBTFRIX01BSU5URU5BTkNFX0NPTU1TIiwiMzAzOSIsIjMwMzgiLCIzMDM3IiwiMzAzNiIsIlJPTEVfSU5URVJORVRfRVhUUkFfQUNDRVNTIiwiNDM4NSIsIjMwNTciLCIzMDU2IiwiUk9MRV9ESFNfTkJfTUlDUk9fTk9USUZJQ0FUSU9OUyIsIjMwNTUiLCJST0xFX0RJU0NPVkVSWU1PTklUT1JJTkciLCIzMDU0IiwiMzA1MyIsIjMwNTIiLCIzMDUxIiwiMzA1MCIsIjMxNzEiLCIzMDQ5IiwiMzA0OCIsIjMwNDciLCJST0xFX0RFX0lERU5USUZJRURfREVWX1BBQ0UiLCI0MjU4IiwiNDEzOSIsIjMwNjAiLCJST0xFX05PTl9TRU5TSVRJVkVfREVWX1BBQ0UiLCJST0xFX01BSU5URU5BTkNFX0NPTVMiLCI0Mzk2IiwiMzE4OSIsIjMwNjEiLCJST0xFX1NFTlNJVElWRV9ERVZfUEFDRSIsIjMwNTkiLCIzMDU4IiwiUk9MRV9JTlRFUk5FVF9CQVNFTElORSIsIjMxOTYiLCJST0xFX1BJSV9URVNUX1BBQ0UiLCI0Mjk0IiwiNDE3NCIsIjQyOTYiLCI0Mjk4IiwiUk9MRV9TTUFEX0RIX1VQTE9BRF9NT05JVE9SSU5HIiwiMzA4OCIsIlJPTEVfREhTX1BBQ0VfVEVBTSIsIlJPTEVfREhTX1BST1ZJREVSX09EQlNfTk9USUZJQ0FUSU9OUyIsIlJPTEVfVVNFUiIsIlJPTEVfSEVBTFRIX1BIQVNFMiIsIjE1NTU1IiwiUk9MRV9QQVJBRElHTV9ERVNLVE9QX1VTRVIiLCJST0xFX0RIU19IRUFMVEhfUFJPVklERVJTX1NFQ1VSSVRZIiwiMTU2NDEiLCI0MTk5IiwiMTU2NDAiLCJST0xFX0RIRVhDSEFOR0UxX1VTRVJTIiwiUk9MRV9ESFNfUFJPVklERVJfSkFWQSIsIjE1NTI5IiwiUk9MRV9ESVNDT1ZFUllfSEVBTFRIX0FMTCIsIlJPTEVfREhTX1BBQ0VfREVWRUxPUEVSUyIsIjE1NDAzIiwiMTU2NDUiLCIxNTc2NSIsIjE1NjQzIiwiMTU1MjgiLCIxNTQwNiIsIjE1NTI3IiwiUk9MRV9ESFNfTkJfQkFUQ0hfTk9USUZJQ0FUSU9OUyIsIjE1NTI1IiwiMTU2NDYiLCJST0xFX0RIU19VV19TRVJWSUNFX0JNX05PVElGSUNBVElPTlMiLCIxNTUzMSIsIjE1NTMwIiwiUk9MRV9ESVNDT1ZFUllfT1VUTE9PS19BTllXSEVSRSIsIlJPTEVfREhTX1BST0pFQ1RfRVZPX1JFTEVBU0VfTk9USUZJQ0FUSU9OUyIsIlJPTEVfREhTX1BBQ0VfTElWRV9NT05JVE9SSU5HIiwiUk9MRV9ESFNfREVQQVJUTUVOVF9BTEwiLCIxNTQxNCIsIjE1NDEzIiwiUk9MRV9EWU5BVFJBQ0VfVVNFUlMiLCJST0xFX0JST1dTSU5HX1lFTExPVyIsIlJPTEVfV0lORE9XU18xMF9VU0VSUyIsIjE1ODYzIiwiMTU2MjciLCIxNTYyNiIsIjI5MDIiLCIxNzA5IiwiMjkxOSIsIlJPTEVfREhTX05FV19CVVNJTkVTU19TWVNURU1fTU9OSVRPUklORyIsIjI5MTYiLCIxNTYzMSIsIjE3MTIiLCIyOTIyIiwiMTcxMSIsIjI5MjEiLCIxNzEwIiwiMjkyMCIsIlJPTEVfREhTX05FV19CVVNJTkVTU19TRUNVUklUWSIsIjE3MTYiLCJST0xFX0RFX0lERU5USUZJRURfREFTIiwiMTcxNSIsIjE1NjA0IiwiMTcxMyIsIjI5MjMiLCJST0xFX1NFTlNJVElWRV9URVNUX1BBQ0UiLCJST0xFX0RIU19ORVdfQlVTSU5FU1NfJl9RVU9URVNfJl9MRUFEUyIsIjE2MDAiLCIxNTczMyIsIjE2MDkiLCIxNjA4IiwiMTU4NTIiLCIxNTczMCIsIjE1NjE2IiwiNjAwNjMiLCIxNzI2IiwiUk9MRV9ESVNDT1ZFUlkiLCIxNjExMyIsIjE2MzU1IiwiMTYxMyIsIjE2MTIiLCIyOTQzIiwiMTYxMSIsIjE2MTAiLCIyOTQwIiwiOTMiLCIxNjE5IiwiMTYxOCIsIjE1Mzg5IiwiMTYxNyIsIjE2MTYiLCIxNjE1IiwiMjcwNCIsIjE2MTQiLCIxNTI3NyIsIjE2MjQzIiwiUk9MRV9LSUJBTkFfVVNFUlMiLCIxNjIzIiwiMjcxMiIsIjE2MjEiLCJST0xFX1BJSV9ERVZfUEFDRSIsIjE2MjAiLCJST0xFX0RIU19KQVZBX0RFVkVMT1BFUlMiLCIzODA5IiwiUk9MRV9OT05fU0VOU0lUSVZFX1RFU1RfUEFDRSIsIjE2MjkiLCIxNjI4IiwiMTg2OSIsIlJPTEVfREhTX1VXX0JBQ0tPRkZJQ0VfTk9USUZJQ0FUSU9OUyIsIjE4NjgiLCIxNjI1IiwiMTUzNjIiLCJST0xFX0tJQkFOQV9VU0VSU19URVNUIiwiMTUzNjAiLCIxNTQ4MCIsIjE2MzM0IiwiMTUzNjUiLCIxNjMzMyIsIjE1MzY0IiwiMTUzNjMiLCIxNzU1IiwiUk9MRV9ERV9JREVOVElGSUVEX1RFU1RfUEFDRSIsIjE2MzMiLCIxNzU0IiwiMjcyMSIsIjI3MjAiLCJST0xFX1BISV9ERVZfUEFDRSIsIjE1MzY5IiwiMTUzNjgiLCIxNTM2NyIsIjE2MzM1IiwiMjg0OSIsIjE2MzgiLCIxNzU5IiwiMjg0OCIsIjM4MTEiLCIxNjM3IiwiMjYwNSIsIjE2MzYiLCIxNTQ5MyIsIlJPTEVfSTQ1MV9IRUFMVEhfREhTX0FDUVVJU0lUSU9OX0FORF9BRE1JTl9TRVJWSUNFUyIsIjE1MzcwIiwiMTUxMzMiLCJST0xFX0RJU0NPVkVSWV9JVF9TRVJWSUNFUyIsIjE3NjUiLCIyNzMzIiwiMzgyNyIsIjE3NjQiLCIxNjQwIiwiMTc2MSIsIjE2MjI4IiwiMTUzNzkiLCIzODIwIiwiMTYyMjkiLCIxNTM0NCIsIjE1MzQzIiwiMTUzNDEiLCIxNjYwIiwiMjk5MSIsIlJPTEVfVlBORElTQ09WRVJZVVNFUlMiLCIxNTM2IiwiMTUzNSIsIjE1MzQiLCIyNTAyIiwiMzgzOCIsIjE1MzMiLCIxNTMyIiwiMzcxOSIsIjE2NTEiLCIxNTM0NyIsIjE1MzQ2IiwiMTUzNDUiLCIxNTM5IiwiMTYzMTkiLCIxNjU5IiwiMjc0OCIsIjE2MzE4IiwiMTUzNyIsIjE2MzE3IiwiMTU0NzYiLCIxNjMyMyIsIjE2MzIyIiwiMTYzMjEiLCJST0xFX0RIU19QUk9WX1NSVl9CTV9OT1RJRklDQVRJT05TIiwiMTYzMjAiLCIxNTUwIiwiMjg4MCIsIlJPTEVfREhTX1BST1ZJREVSU19XRUJfTk9USUZJQ0FUSU9OUyIsIjM3MjgiLCJST0xFX0RIU19ORVdfQlVTSU5FU1NfSkFWQSIsIjE1NDMiLCIxNTQyIiwiUk9MRV9ESFNfUFJPVklERVJfU1JWX05PVElGSUNBVElPTlMiLCJST0xFX0RIU19EQVMiLCJST0xFX1NQUEhBU0UyX1NBTkRUT04iLCIxNTM1OSIsIjE1MzU4IiwiMTYzMjYiLCIxNjMyNSIsIjM4NDIiLCIxNTM1NiIsIjE2MzI0IiwiMjYzOSIsIjE2MjA3IiwiUk9MRV9ESVNDT1ZFUllfU0FORFRPTl9TVEFGRiIsIjE1MjAxIiwiMTUyMDAiLCIzOTgwIiwiMTU2MSIsIjE1NTgiLCIxNTU3IiwiMTU1NiIsIjE0MzIiLCIyNTIxIiwiMTU1MiIsIjM4NTIiLCIxNTIwMyIsIjM4NTMiLCIxNTIwMiIsIjE1MzIzIiwiMzYxOSIsIjI0MDgiLCJST0xFX0NMQUlNU19QUk9DRVNTSU5HIiwiMjUyOCIsIjE1NTkiLCI0NzA0IiwiMTU1NjkiLCIxNTU3MCIsIjE2MzAxIiwiMTU1NzMiLCIzODcxIiwiMTY5MyIsIjE2OTEiLCJST0xFX0RZTkFUUkFDRV9ERVZFTE9QRVJTIiwiVVNFUiIsIjI3NzkiLCIzODY5IiwiMjc3OCIsIjI3NzciLCIyODk4IiwiMjg5NyIsIjQ3MTkiLCIyNzc1IiwiMzYyMiIsIjE1NjMiLCIxNjMwNCIsIjE2MzAzIiwiMTYzMDIiLCIzOTg2Il0sImNsaWVudF9pZCI6ImRlbW9DbGllbnQiLCJmaXJzdE5hbWUiOiJHYXJldGgiLCJzdXJuYW1lIjoiS2luZyIsInNjb3BlIjpbImZvbyIsInJlYWQiLCJ3cml0ZSJdLCJleHAiOjE1MjgwNjg2MjYsImp0aSI6IjMxOTM4MjA0LWM0ZTAtNGQ5ZC1hOTlkLWYzMDg0YjM5MDFjNSJ9.HZB4nP60jQXnF7pZJfcmxGGV1JDyou88llvOzYUj9u2TGD8X4m_IuoPKAwFMgkQy0qAGA3Pr37CN4d_fYYWSIn4eWwQOf--IM8ctWtdmJvKr01ZQyvSA9jB_r5Q6YroS7-Bi8NWmjHTw2ADmrp3G9RO9H74jJDqyDpNHJWxWrY6MLJcZXMx5GwHjTNrIbR9RS4i1I7JdBhD_m1fsBRdjcMGjcUK6sw9qmDWTC4aV3DgQm4Y-eStF2-3WZ2GURsKvy9Qp6nWgax5oqQZuaVyo_gYKk1Dau6Gk3AozjwEGp6H98Ha_bQ0xsatCqaSZWeNWB3stpMxuL4IMOZNej-nKKw',
    'token_type': 'bearer',
    'refresh_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJmdW5jdGlvbnMiOlsiNDI5NCIsIjE2MDc2IiwiNDE3NCIsIjQyOTYiLCIxNjA3NCIsIjM4ODAiLCI0Mjk4IiwiMjc5MiIsIjMwODgiLCIxNjA3MyIsIjE2MDcyIiwiMTYxOTEiLCIyNTQ4IiwiMTU3OSIsIjE2OTgiLCIxNTc0IiwiMTU3MyIsIjM4NzMiLCIzODc0IiwiMzc1NCIsIjQ3MjUiLCIzNzcxIiwiMzc3MiIsIjE1OTIiLCIyNTYwIiwiMTU4OCIsIjE1ODQiLCIzNjQxIiwiMTU1NTUiLCI0NzMzIiwiNDczNSIsIjQ2MTYiLCIxNjI5NyIsIjE1MDg2IiwiMTYyOTYiLCIxNTY0MSIsIjQxOTkiLCIxNTY0MCIsIjE2Mjk5IiwiMTYyOTgiLCIxMDAwIiwiMjMzMSIsIjE1MDgzIiwiMTYyOTMiLCIxNTA4MiIsIjE2MDUwIiwiMTYyOTIiLCIyNDQ5IiwiMjQ0OCIsIjI2ODgiLCIxNTUyOSIsIjE1OTciLCIzNzczIiwiMTU0MDMiLCIxNTY0NSIsIjM3NzQiLCIxNTc2NSIsIjM3NzUiLCIxNTY0MyIsIjM3NzYiLCIzODk3IiwiMTU1MjgiLCIxNTQwNiIsIjE1NTI3IiwiMzc3OSIsIjE1NTI1IiwiMTU2NDYiLCIxNTUzMSIsIjE1NTMwIiwiMzc5MyIsIjE2MDY4IiwiMTYxODkiLCIzNzk0IiwiMTYwNjIiLCIxNjA2MSIsIjI1NzkiLCIyNTc2IiwiNDc1MiIsIjE1NDE0IiwiMTU0MTMiLCIzNzg3IiwiMzY2OSIsIjM2ODAiLCIxNTA2OSIsIjE1MTg5IiwiNDc3MyIsIjI0NzMiLCIyNDY4IiwiNDc2MyIsIjE1ODYzIiwiMTYwMzkiLCIzNzk4IiwiMTYxNTkiLCIzNjc4IiwiMTU2MjciLCI0NTI2IiwiMTU2MjYiLCIyOTAyIiwiMTUwNzMiLCIxNTE5OSIsIjE1MDcwIiwiMzMyNyIsIjI0NzkiLCIyNDc4IiwiMjQ3NyIsIjI0NzYiLCIxNzA5IiwiMjkxOSIsIjQ1MzMiLCIyOTE2IiwiMTU2MzEiLCIxNTA0MyIsIjE1MDQyIiwiMTUyODQiLCIxNTE2NyIsIjE1Mjg3IiwiNDQzMiIsIjE1Mjg2IiwiMzM0MyIsIjMzNDIiLCIxNTE2MCIsIjE3MTIiLCIyOTIyIiwiMTcxMSIsIjI5MjEiLCIxNzEwIiwiMjkyMCIsIjIyNDgiLCIxNjAxOCIsIjQ0MjQiLCIxNzE2IiwiMTcxNSIsIjE1NjA0IiwiMTcxMyIsIjI5MjMiLCIxNjAyMCIsIjE2Mzg2IiwiMTYwMCIsIjMxMDciLCIxNTczMyIsIjE2MDkiLCIxNjA4IiwiNDMxNCIsIjE1ODUyIiwiMTU3MzAiLCIxNTYxNiIsIjYwMDYzIiwiMTcyNiIsIjQ1NzIiLCI0NTczIiwiMTYxMTMiLCIxNjM1NSIsIjQ1NzQiLCI0NTc1IiwiMzM2NSIsIjE2MTMiLCIxNTgyOSIsIjE2MTIiLCIyOTQzIiwiMTU3MDciLCIxNTgyOCIsIjE2MTEiLCIxNTgyNyIsIjE2MTAiLCIyMjY5IiwiMjk0MCIsIjMzNTYiLCI5MyIsIjE2MTkiLCIxNTk0MCIsIjE2MTgiLCIxNTM4OSIsIjE2MTciLCIxNjE2IiwiMTYxNSIsIjI3MDQiLCIxNjE0IiwiMTU4MjIiLCIxNTI3NyIsIjE2MjQzIiwiMTA3MiIsIjEwNzEiLCIxMDcwIiwiMTYyMyIsIjI3MTIiLCIzMDA5IiwiMTYyMSIsIjE2MjAiLCIxMDY4IiwiMzgwOSIsIjMxMjQiLCIxNTk1MyIsIjE2MjkiLCIxNjI4IiwiMTU3MTUiLCIxODY5IiwiMTg2OCIsIjE1OTU1IiwiMTYyNSIsIjE1MzYyIiwiNDU5MSIsIjE1MzYwIiwiMTU0ODAiLCIxNjMzNCIsIjE1MzY1IiwiMTYzMzMiLCIxNTM2NCIsIjE1MzYzIiwiMzAyMCIsIjE3NTUiLCIxNjMzIiwiMTc1NCIsIjI3MjEiLCIyNzIwIiwiMzEzNyIsIjIxNjgiLCIxNTM2OSIsIjQzNDciLCIxNTM2OCIsIjQxMDYiLCIxNTM2NyIsIjE2MzM1IiwiMjg0OSIsIjE2MzgiLCIxNzU5IiwiMjg0OCIsIjM4MTEiLCIxNjM3IiwiMjYwNSIsIjE2MzYiLCIxNTQ5MyIsIjE1MzcwIiwiNDQ4NiIsIjE1MTMzIiwiMzAzNSIsIjMxNTYiLCIzMjcxIiwiMTc2NSIsIjI3MzMiLCIzODI3IiwiMTc2NCIsIjMwMjciLCIxNjQwIiwiMTc2MSIsIjQzNTYiLCIxNjIyOCIsIjE1Mzc5IiwiMzgyMCIsIjEwMDAxIiwiMTU4MTIiLCIxNjIyOSIsIjE1MzQ0IiwiMTUzNDMiLCIxNTM0MSIsIjE2NjAiLCIyOTkxIiwiMzA0NiIsIjMwNDUiLCIzMDQ0IiwiMzA0MiIsIjMwNDEiLCIzMjgzIiwiMzA0MCIsIjE1MzYiLCIxNTM1IiwiMTUzNCIsIjI1MDIiLCIzODM4IiwiMTUzMyIsIjE1MzIiLCIzMDM5IiwiMzcxOSIsIjMwMzgiLCIxNjUxIiwiMzAzNyIsIjMwMzYiLCIxNTM0NyIsIjE1MzQ2IiwiMTUzNDUiLCIxNTM5IiwiMTYzMTkiLCIxNjU5IiwiMjc0OCIsIjE2MzE4IiwiMTUzNyIsIjE2MzE3IiwiNDM4NSIsIjE1NDc2IiwiMTYzMjMiLCIxNjMyMiIsIjE2MzIxIiwiMTYzMjAiLCIxNTUwIiwiMzA1NyIsIjI4ODAiLCIzMDU2IiwiMzA1NSIsIjMwNTQiLCIzMDUzIiwiMzA1MiIsIjMwNTEiLCIzMDUwIiwiMzE3MSIsIjM3MjgiLCIxNTQzIiwiMTU0MiIsIjMwNDkiLCIzMDQ4IiwiMzA0NyIsIjE1MzU5IiwiNDI1OCIsIjE1MzU4IiwiMTYzMjYiLCIxNjMyNSIsIjM4NDIiLCI0MTM5IiwiMTUzNTYiLCIxNjMyNCIsIjI2MzkiLCIxNjIwNyIsIjMwNjAiLCI0Mzk2IiwiMTUyMDEiLCIxNTIwMCIsIjM5ODAiLCIxNTYxIiwiMzE4OSIsIjMwNjEiLCIxNTU4IiwiMTU1NyIsIjE1NTYiLCIxNDMyIiwiMjUyMSIsIjE1NTIiLCIzMDU5IiwiMzA1OCIsIjM4NTIiLCIxNTIwMyIsIjM4NTMiLCIxNTIwMiIsIjE1MzIzIiwiMzYxOSIsIjI0MDgiLCIyNTI4IiwiMTU1OSIsIjQ3MDQiLCIxNTU2OSIsIjE1NTcwIiwiMTYzMDEiLCIxNTU3MyIsIjM4NzEiLCIxNjkzIiwiMTY5MSIsIjMxOTYiLCIyNzc5IiwiMzg2OSIsIjI3NzgiLCIyNzc3IiwiMjg5OCIsIjI4OTciLCI0NzE5IiwiMjc3NSIsIjM2MjIiLCIxNTYzIiwiMTYzMDQiLCIxNjMwMyIsIjE2MzAyIiwiMzk4NiJdLCJ1c2VyX25hbWUiOiJnYXJldGg1MyIsImRpc3BsYXlOYW1lIjoiR2FyZXRoIEtpbmciLCJpbml0aWFscyI6IkdBIiwiZW50aXR5TnVtYmVyIjoxMDAyNTg4MzgwLCJpcCI6IjEwLjEuMzYuMTQ1IiwidXNlck5hbWUiOiJnYXJldGg1MyIsImF1dGhvcml0aWVzIjpbIlJPTEVfU1lTVEVNU19NQUlOVEVOQU5DRV9DT01NVU5JQ0FUSU9OIiwiMTYwNzYiLCIxNjA3NCIsIjM4ODAiLCIyNzkyIiwiMTYwNzMiLCIxNjA3MiIsIjE2MTkxIiwiMjU0OCIsIjE1NzkiLCIxNjk4IiwiMTU3NCIsIjE1NzMiLCIzODczIiwiMzg3NCIsIjM3NTQiLCI0NzI1IiwiUk9MRV9IRUFMVEhfQ09NUExJQU5DRV9DQU1QQUlHTiIsIjM3NzEiLCIzNzcyIiwiMTU5MiIsIjI1NjAiLCIxNTg4IiwiMTU4NCIsIjM2NDEiLCI0NzMzIiwiNDczNSIsIjQ2MTYiLCIxNjI5NyIsIjE1MDg2IiwiMTYyOTYiLCIxNjI5OSIsIjE2Mjk4IiwiMTAwMCIsIjIzMzEiLCJST0xFX0RIU19TT0ZUV0FSRV9SRUxFQVNFIiwiMTUwODMiLCIxNjI5MyIsIjE1MDgyIiwiMTYwNTAiLCIxNjI5MiIsIlJPTEVfREhTX0FQU0JBTktNRURfTk9USUZJQ0FUSU9OUyIsIjI0NDkiLCIyNDQ4IiwiMjY4OCIsIjE1OTciLCIzNzczIiwiMzc3NCIsIjM3NzUiLCIzNzc2IiwiMzg5NyIsIjM3NzkiLCIzNzkzIiwiMTYwNjgiLCIxNjE4OSIsIlJPTEVfREVfSURFTlRJRklFRF9ERVZfREFTIiwiMzc5NCIsIjE2MDYyIiwiMTYwNjEiLCJST0xFX0RDUFVTRVJEQVRBMDEiLCIyNTc5IiwiMjU3NiIsIjQ3NTIiLCIzNzg3IiwiMzY2OSIsIjM2ODAiLCIxNTA2OSIsIjE1MTg5IiwiNDc3MyIsIjI0NzMiLCIyNDY4IiwiUk9MRV9SRUxFQVNFX05PVElGSUNBVElPTlMiLCI0NzYzIiwiMTYwMzkiLCIzNzk4IiwiMTYxNTkiLCIzNjc4IiwiNDUyNiIsIjE1MDczIiwiMTUxOTkiLCJST0xFX0RFX0lERU5USUZJRURfVEVTVF9EQVMiLCJST0xFX0RIU19XRUVLTFlfUkVMRUFTRSIsIjE1MDcwIiwiMzMyNyIsIjI0NzkiLCIyNDc4IiwiMjQ3NyIsIjI0NzYiLCI0NTMzIiwiUk9MRV9ESFNfVVdfRENOX1NSVl9CTV9OT1RJRklDQVRJT05TIiwiMTUwNDMiLCIxNTA0MiIsIjE1Mjg0IiwiMTUxNjciLCIxNTI4NyIsIjQ0MzIiLCIxNTI4NiIsIjMzNDMiLCIzMzQyIiwiMTUxNjAiLCIyMjQ4IiwiUk9MRV9JTlRFUk5FVF9ESFMiLCIxNjAxOCIsIjQ0MjQiLCJST0xFX1NDUklQVExPR0lDX1NUQU5EQVJEIiwiMTYwMjAiLCIxNjM4NiIsIlJPTEVfUEhJX1RFU1RfUEFDRSIsIjMxMDciLCI0MzE0IiwiNDU3MiIsIjQ1NzMiLCI0NTc0IiwiNDU3NSIsIjMzNjUiLCIxNTgyOSIsIjE1NzA3IiwiMTU4MjgiLCIxNTgyNyIsIjIyNjkiLCIzMzU2IiwiMTU5NDAiLCIxNTgyMiIsIlJPTEVfV0lGSV9BQ0NFU1NfVVNFUlMiLCIxMDcyIiwiMTA3MSIsIjEwNzAiLCIzMDA5IiwiMTA2OCIsIjMxMjQiLCIxNTk1MyIsIjE1NzE1IiwiMTU5NTUiLCI0NTkxIiwiUk9MRV9XRUJTRU5TRSIsIjMwMjAiLCIzMTM3IiwiMjE2OCIsIjQzNDciLCI0MTA2IiwiUk9MRV9LSUJBTkFfVVNFUlNfREVWIiwiUk9MRV9CQU1CT09fVVNFUl9DT01NVU5JVFkiLCJST0xFX0RIU19OQl9TRVJWSUNFX0JNX05PVElGSUNBVElPTlMiLCJST0xFX0RIU19TVEFSVEVBTV9VU0VSUyIsIjQ0ODYiLCIzMDM1IiwiMzE1NiIsIjMyNzEiLCIzMDI3IiwiNDM1NiIsIjEwMDAxIiwiUk9MRV9FUVVJVFJBQ1BSSU5URVJTIiwiMTU4MTIiLCJST0xFX0hBX0ZBU1RfU1RBUlRVUF9ESFRFU1RfREIiLCIzMDQ2IiwiMzA0NSIsIjMwNDQiLCIzMDQyIiwiMzA0MSIsIjMyODMiLCIzMDQwIiwiUk9MRV9ESVNDT1ZFUllfSEVBTFRIX01BSU5URU5BTkNFX0NPTU1TIiwiMzAzOSIsIjMwMzgiLCIzMDM3IiwiMzAzNiIsIlJPTEVfSU5URVJORVRfRVhUUkFfQUNDRVNTIiwiNDM4NSIsIjMwNTciLCIzMDU2IiwiUk9MRV9ESFNfTkJfTUlDUk9fTk9USUZJQ0FUSU9OUyIsIjMwNTUiLCJST0xFX0RJU0NPVkVSWU1PTklUT1JJTkciLCIzMDU0IiwiMzA1MyIsIjMwNTIiLCIzMDUxIiwiMzA1MCIsIjMxNzEiLCIzMDQ5IiwiMzA0OCIsIjMwNDciLCJST0xFX0RFX0lERU5USUZJRURfREVWX1BBQ0UiLCI0MjU4IiwiNDEzOSIsIjMwNjAiLCJST0xFX05PTl9TRU5TSVRJVkVfREVWX1BBQ0UiLCJST0xFX01BSU5URU5BTkNFX0NPTVMiLCI0Mzk2IiwiMzE4OSIsIjMwNjEiLCJST0xFX1NFTlNJVElWRV9ERVZfUEFDRSIsIjMwNTkiLCIzMDU4IiwiUk9MRV9JTlRFUk5FVF9CQVNFTElORSIsIjMxOTYiLCJST0xFX1BJSV9URVNUX1BBQ0UiLCI0Mjk0IiwiNDE3NCIsIjQyOTYiLCI0Mjk4IiwiUk9MRV9TTUFEX0RIX1VQTE9BRF9NT05JVE9SSU5HIiwiMzA4OCIsIlJPTEVfREhTX1BBQ0VfVEVBTSIsIlJPTEVfREhTX1BST1ZJREVSX09EQlNfTk9USUZJQ0FUSU9OUyIsIlJPTEVfVVNFUiIsIlJPTEVfSEVBTFRIX1BIQVNFMiIsIjE1NTU1IiwiUk9MRV9QQVJBRElHTV9ERVNLVE9QX1VTRVIiLCJST0xFX0RIU19IRUFMVEhfUFJPVklERVJTX1NFQ1VSSVRZIiwiMTU2NDEiLCI0MTk5IiwiMTU2NDAiLCJST0xFX0RIRVhDSEFOR0UxX1VTRVJTIiwiUk9MRV9ESFNfUFJPVklERVJfSkFWQSIsIjE1NTI5IiwiUk9MRV9ESVNDT1ZFUllfSEVBTFRIX0FMTCIsIlJPTEVfREhTX1BBQ0VfREVWRUxPUEVSUyIsIjE1NDAzIiwiMTU2NDUiLCIxNTc2NSIsIjE1NjQzIiwiMTU1MjgiLCIxNTQwNiIsIjE1NTI3IiwiUk9MRV9ESFNfTkJfQkFUQ0hfTk9USUZJQ0FUSU9OUyIsIjE1NTI1IiwiMTU2NDYiLCJST0xFX0RIU19VV19TRVJWSUNFX0JNX05PVElGSUNBVElPTlMiLCIxNTUzMSIsIjE1NTMwIiwiUk9MRV9ESVNDT1ZFUllfT1VUTE9PS19BTllXSEVSRSIsIlJPTEVfREhTX1BST0pFQ1RfRVZPX1JFTEVBU0VfTk9USUZJQ0FUSU9OUyIsIlJPTEVfREhTX1BBQ0VfTElWRV9NT05JVE9SSU5HIiwiUk9MRV9ESFNfREVQQVJUTUVOVF9BTEwiLCIxNTQxNCIsIjE1NDEzIiwiUk9MRV9EWU5BVFJBQ0VfVVNFUlMiLCJST0xFX0JST1dTSU5HX1lFTExPVyIsIlJPTEVfV0lORE9XU18xMF9VU0VSUyIsIjE1ODYzIiwiMTU2MjciLCIxNTYyNiIsIjI5MDIiLCIxNzA5IiwiMjkxOSIsIlJPTEVfREhTX05FV19CVVNJTkVTU19TWVNURU1fTU9OSVRPUklORyIsIjI5MTYiLCIxNTYzMSIsIjE3MTIiLCIyOTIyIiwiMTcxMSIsIjI5MjEiLCIxNzEwIiwiMjkyMCIsIlJPTEVfREhTX05FV19CVVNJTkVTU19TRUNVUklUWSIsIjE3MTYiLCJST0xFX0RFX0lERU5USUZJRURfREFTIiwiMTcxNSIsIjE1NjA0IiwiMTcxMyIsIjI5MjMiLCJST0xFX1NFTlNJVElWRV9URVNUX1BBQ0UiLCJST0xFX0RIU19ORVdfQlVTSU5FU1NfJl9RVU9URVNfJl9MRUFEUyIsIjE2MDAiLCIxNTczMyIsIjE2MDkiLCIxNjA4IiwiMTU4NTIiLCIxNTczMCIsIjE1NjE2IiwiNjAwNjMiLCIxNzI2IiwiUk9MRV9ESVNDT1ZFUlkiLCIxNjExMyIsIjE2MzU1IiwiMTYxMyIsIjE2MTIiLCIyOTQzIiwiMTYxMSIsIjE2MTAiLCIyOTQwIiwiOTMiLCIxNjE5IiwiMTYxOCIsIjE1Mzg5IiwiMTYxNyIsIjE2MTYiLCIxNjE1IiwiMjcwNCIsIjE2MTQiLCIxNTI3NyIsIjE2MjQzIiwiUk9MRV9LSUJBTkFfVVNFUlMiLCIxNjIzIiwiMjcxMiIsIjE2MjEiLCJST0xFX1BJSV9ERVZfUEFDRSIsIjE2MjAiLCJST0xFX0RIU19KQVZBX0RFVkVMT1BFUlMiLCIzODA5IiwiUk9MRV9OT05fU0VOU0lUSVZFX1RFU1RfUEFDRSIsIjE2MjkiLCIxNjI4IiwiMTg2OSIsIlJPTEVfREhTX1VXX0JBQ0tPRkZJQ0VfTk9USUZJQ0FUSU9OUyIsIjE4NjgiLCIxNjI1IiwiMTUzNjIiLCJST0xFX0tJQkFOQV9VU0VSU19URVNUIiwiMTUzNjAiLCIxNTQ4MCIsIjE2MzM0IiwiMTUzNjUiLCIxNjMzMyIsIjE1MzY0IiwiMTUzNjMiLCIxNzU1IiwiUk9MRV9ERV9JREVOVElGSUVEX1RFU1RfUEFDRSIsIjE2MzMiLCIxNzU0IiwiMjcyMSIsIjI3MjAiLCJST0xFX1BISV9ERVZfUEFDRSIsIjE1MzY5IiwiMTUzNjgiLCIxNTM2NyIsIjE2MzM1IiwiMjg0OSIsIjE2MzgiLCIxNzU5IiwiMjg0OCIsIjM4MTEiLCIxNjM3IiwiMjYwNSIsIjE2MzYiLCIxNTQ5MyIsIlJPTEVfSTQ1MV9IRUFMVEhfREhTX0FDUVVJU0lUSU9OX0FORF9BRE1JTl9TRVJWSUNFUyIsIjE1MzcwIiwiMTUxMzMiLCJST0xFX0RJU0NPVkVSWV9JVF9TRVJWSUNFUyIsIjE3NjUiLCIyNzMzIiwiMzgyNyIsIjE3NjQiLCIxNjQwIiwiMTc2MSIsIjE2MjI4IiwiMTUzNzkiLCIzODIwIiwiMTYyMjkiLCIxNTM0NCIsIjE1MzQzIiwiMTUzNDEiLCIxNjYwIiwiMjk5MSIsIlJPTEVfVlBORElTQ09WRVJZVVNFUlMiLCIxNTM2IiwiMTUzNSIsIjE1MzQiLCIyNTAyIiwiMzgzOCIsIjE1MzMiLCIxNTMyIiwiMzcxOSIsIjE2NTEiLCIxNTM0NyIsIjE1MzQ2IiwiMTUzNDUiLCIxNTM5IiwiMTYzMTkiLCIxNjU5IiwiMjc0OCIsIjE2MzE4IiwiMTUzNyIsIjE2MzE3IiwiMTU0NzYiLCIxNjMyMyIsIjE2MzIyIiwiMTYzMjEiLCJST0xFX0RIU19QUk9WX1NSVl9CTV9OT1RJRklDQVRJT05TIiwiMTYzMjAiLCIxNTUwIiwiMjg4MCIsIlJPTEVfREhTX1BST1ZJREVSU19XRUJfTk9USUZJQ0FUSU9OUyIsIjM3MjgiLCJST0xFX0RIU19ORVdfQlVTSU5FU1NfSkFWQSIsIjE1NDMiLCIxNTQyIiwiUk9MRV9ESFNfUFJPVklERVJfU1JWX05PVElGSUNBVElPTlMiLCJST0xFX0RIU19EQVMiLCJST0xFX1NQUEhBU0UyX1NBTkRUT04iLCIxNTM1OSIsIjE1MzU4IiwiMTYzMjYiLCIxNjMyNSIsIjM4NDIiLCIxNTM1NiIsIjE2MzI0IiwiMjYzOSIsIjE2MjA3IiwiUk9MRV9ESVNDT1ZFUllfU0FORFRPTl9TVEFGRiIsIjE1MjAxIiwiMTUyMDAiLCIzOTgwIiwiMTU2MSIsIjE1NTgiLCIxNTU3IiwiMTU1NiIsIjE0MzIiLCIyNTIxIiwiMTU1MiIsIjM4NTIiLCIxNTIwMyIsIjM4NTMiLCIxNTIwMiIsIjE1MzIzIiwiMzYxOSIsIjI0MDgiLCJST0xFX0NMQUlNU19QUk9DRVNTSU5HIiwiMjUyOCIsIjE1NTkiLCI0NzA0IiwiMTU1NjkiLCIxNTU3MCIsIjE2MzAxIiwiMTU1NzMiLCIzODcxIiwiMTY5MyIsIjE2OTEiLCJST0xFX0RZTkFUUkFDRV9ERVZFTE9QRVJTIiwiVVNFUiIsIjI3NzkiLCIzODY5IiwiMjc3OCIsIjI3NzciLCIyODk4IiwiMjg5NyIsIjQ3MTkiLCIyNzc1IiwiMzYyMiIsIjE1NjMiLCIxNjMwNCIsIjE2MzAzIiwiMTYzMDIiLCIzOTg2Il0sImNsaWVudF9pZCI6ImRlbW9DbGllbnQiLCJmaXJzdE5hbWUiOiJHYXJldGgiLCJzdXJuYW1lIjoiS2luZyIsInNjb3BlIjpbImZvbyIsInJlYWQiLCJ3cml0ZSJdLCJhdGkiOiIzMTkzODIwNC1jNGUwLTRkOWQtYTk5ZC1mMzA4NGIzOTAxYzUiLCJleHAiOjE1MjgwNjg2MjYsImp0aSI6ImFhMGRkNWU1LWFhYzgtNGRlMy1iNmMwLWZhYTRmNmE5NWE2YiJ9.g0L0EI09a6rAtQIO9Kp2sYwb-Rc_gGOPxB9meDux_pyeEX46iZW22u7F4RGs2jAugP9Yujp6ckJW9kHH84vXYcRiEb9V3XuIYZAqgzPWHbxONTX8Y7tr67imDLS6oDrZaCMGNq7EDXl2hgWaxjBsuf0dNIzzlqe52ecA5KAOAyLxUunMqt76crBJ_Bwlr1zmL2N0tGyTuzst5GX3XrhH6wa7ztqv2-ZzPeOtus4NETiE3c_Y2eB5D03sT_jXr1AkFyiKQYBecMk7aZWemfkjn9nLMXIa8pq7QnNR20NYIrYJAUGVoknT0GuoGN0McAvscrVVNHjV4j3RJ7hzjewxtA',
    'expires_in': 999999,
    'scope': 'foo read write'
};
// tslint:enable:max-line-length


const oauthState: OauthState = {
    oauthResponse: oauthResponse,
    principal: {
        user_name: 'test',
        displayName: 'test',
        initials: 't',
        entityNumber: 1,
        ip: '127.0.0.1',
        userName: 'test',
        authorities: [
            'ROLE_USER'
        ],
        client_id: '123',
        firstName: 'test',
        surname: 'test',
        scope: ['read'],
        exp: 9999999,
        jti: 'jti'
    },
    error: new Error('Test'),
    loading: false
};

const oauthStore: OauthStore = {
    oauth: oauthState
};


describe('OauthService', () => {
    let service: OauthService;
    let store: Store<any>;
    beforeEach(() => {
        TestBed.configureTestingModule({
            providers: [
                OauthService,
                {
                    provide: Store,
                    useValue: {
                        pipe: jest.fn(() => of(oauthState)),
                        dispatch: jest.fn()
                    }
                }
            ]
        });

        service = TestBed.get(OauthService);
        store = TestBed.get(Store);
    });

    it('should return OauthState', () => {
        store.pipe = jest.fn(() => of(oauthState.oauthResponse));
        service.getOauthResponse()
            .subscribe(
                (result: OauthResponse) => {
                    expect(result).toEqual(oauthState.oauthResponse);
                }
            );

        expect(store.pipe).toBeCalled();
    });

    it('should return PRINCIPAL', () => {
        store.pipe = jest.fn(() => of(oauthState.principal));
        service.getPrincipal()
            .subscribe(
                (result: Principal) => {
                    expect(result).toEqual(oauthState.principal);
                }
            );

        expect(store.pipe).toBeCalled();
    });

    it('should return Error', () => {
        const data: Error = new Error('test');
        store.pipe = jest.fn(() => of(data));
        service.getError()
            .subscribe(
                (result: Error) => {
                    expect(result).toEqual(data);
                }
            );

        expect(store.pipe).toBeCalled();
    });

    it('should return Loading', () => {
        const data: boolean = false;
        store.pipe = jest.fn(() => of(data));
        service.getLoading()
            .subscribe(
                (result: boolean) => {
                    expect(result).toEqual(data);
                }
            );

        expect(store.pipe).toBeCalled();
    });

    it('should trigger login', () => {
        const username: string = 'username';
        const password: string = 'passsword';

        service.login(username, password);
        expect(store.dispatch).toBeCalledWith(new OauthLoginRequest({
            username: username,
            password: password
        }));
    });


    it('should check isAuthenticated', () => {
        // tslint:disable-next-line:no-any
        const tmpStore: any = {
            pipe: jest.fn(() => of(oauthState)),
            dispatch: jest.fn()
        };

        const tmpService: OauthService = new OauthService(tmpStore as any);
        const authenticated: boolean = tmpService.isAuthenticated();
        expect(authenticated).toBe(false);

        expect(tmpStore.pipe).toBeCalled();
    });

    it('should check hasRole successfully', () => {
        // tslint:disable-next-line:no-any
        const tmpStore: any = {
            pipe: jest.fn(() => of(oauthState)),
            dispatch: jest.fn()
        };

        const role: string = 'ROLE_USER';

        const tmpService: OauthService = new OauthService(tmpStore as any);
        const hasRole: boolean = tmpService.hasRole(role);
        expect(hasRole).toBe(true);

        expect(tmpStore.pipe).toBeCalled();
    });

    it('should check hasRole not found', () => {
        // tslint:disable-next-line:no-any
        const tmpStore: any = {
            pipe: jest.fn(() => of(oauthState)),
            dispatch: jest.fn()
        };

        const role: string = 'ROLE_BLA';

        const tmpService: OauthService = new OauthService(tmpStore);
        const hasRole: boolean = tmpService.hasRole(role);
        expect(hasRole).toBe(false);

        expect(tmpStore.pipe).toBeCalled();
    });

    it('should check getToken', () => {
        // tslint:disable-next-line:no-any
        const tmpStore: any = {
            pipe: jest.fn(() => of(oauthState)),
            dispatch: jest.fn()
        };

        const tmpService: OauthService = new OauthService(tmpStore);
        expect(tmpService.getToken()).toEqual(oauthResponse.access_token);
    });


    it('should check getRefreshToken', () => {
        // tslint:disable-next-line:no-any
        const tmpStore: any = {
            pipe: jest.fn(() => of(oauthState)),
            dispatch: jest.fn()
        };

        const tmpService: OauthService = new OauthService(tmpStore as any);
        expect(tmpService.getRefreshToken()).toEqual(oauthResponse.refresh_token);
    });

});
